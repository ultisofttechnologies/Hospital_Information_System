{% extends "layout.html" %}
{% block title %}{{title}}{% endblock %}
{% block main %}
<body onload="populateFields()">
  <script type="text/javascript">
    function populateFields() {
      var success = {{success}};
      if (success == 0) {

      }
      else {
        var q = document.getElementById('firstname');
        q.value = '{{patient.firstname}}';
        document.getElementById('middlename').value= '{{patient.middlename}}';
        document.getElementById('lastname').value= '{{patient.lastname}}';
        document.getElementById('sex').value= '{{patient.sex}}';
        document.getElementById('dateofbirth').value= '{{patient.dateofbirth}}';
        document.getElementById('maritalstatus').value= '{{patient.maritalstatus}}';
        document.getElementById('address').value= '{{patient.address}}';
        document.getElementById('city').value= '{{patient.city}}';
        document.getElementById('inputState').value = '{{patient.region}}';
        document.getElementById('age').value = '{{age}}';
        document.getElementById('phone').value = '{{patient.phone}}';
        document.getElementById('email').value = '{{patient.email}}';
        document.getElementById('emergencyName').value = '{{patient.emergencyName}}';
        document.getElementById('emergencyPhone').value = '{{patient.emergencyPhone}}';
        document.getElementById('emergencyEmail').value = '{{patient.emergencyEmail}}';
        document.getElementById('relationship').value = '{{patient.relationshiptoemergencycontact}}'
      }
    }
  </script>

  <h3><i class="fa fa-angle-right"></i> Edit Patient</h3>
  <div>
    <form class="row g-3 bg-white p-4 mt-3" method="post">
      {% block flashMessages %}
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            <ul>
                {% for message in messages %}
                <li class="text-danger p-2">{{ message }}</li>
                {% endfor %}
            </ul>
          {% endif %}
        {% endwith %}
      {% endblock%}
      <div class="col-md-4">
        <label for="firstname" class="form-label">First Name</label>
        <input type="text" id="firstname" class="form-control" name="firstname" value="" required>
      </div>
      <div class="col-md-4">
        <label for="middlename" class="form-label">Middle Name</label>
        <input type="text" class="form-control" id="middlename" name="middlename" value="">
      </div>
      <div class="col-md-4">
        <label for="lastname" class="form-label">Last Name</label>
        <input type="text" class="form-control" name="lastname" id="lastname" value="" required>
      </div>
      <div class="col-md-2">
        <label for="age" class="form-label">Age</label>
        <input disabled class="form-control" name="age" id="age" value="" required>
      </div>
      <div class="col-md-4">
        <label for="dateofbirth" class="form-label">Date of Birth</label>
        <input type="date" class="form-control" id="dateofbirth" name="dateofbirth" value="">
      </div>
      <div class="col-md-2">
        <label for="sex" class="form-label">Sex</label>
        <select class="form-select form-control" id="sex" name="sex" aria-label="Default select example" required>
          <option value="" selected="selected" hidden="hidden">Choose sex</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
      </div>
      <div class="col-md-4">
        <label for="maritalstatus" class="form-label">Marital Status</label>
        <select class="form-select form-control" id="maritalstatus" name="maritalstatus" aria-label="Default select example" required>
          <option value="" selected="selected" hidden="hidden">Choose status</option>
          <option value="single">Single</option>
          <option value="married">Married</option>
        </select>
      </div>
      <div class="col-md-4">
        <label for="address" class="form-label">Address</label>
        <input type="text" class="form-control" name="address" id="address" placeholder="1234 Main St" value="" required>
      </div>
      <div class="col-md-4">
        <label for="city" class="form-label">City</label>
        <input type="text" class="form-control" name="city" id="city" placeholder="Dohinaayilli" value="" required>
      </div>
      <div class="col-md-4">
        <label for="region" class="form-label">Region</label>
        <select id="inputState" class="form-select form-control" name="region" required>
          <option value="" selected="selected" hidden="hidden">Choose Region</option>
          <option>Northern Region - Tamale</option>
          <option>Oti Region - Dambai</option>
          <option>Bono East Region - Techiman</option>
          <option>Ahafo Region - Goaso</option>
          <option>Bono Region - Sunyani</option>
          <option>North East Region - Nalerigu</option>
          <option>Savannah Region - Damango</option>
          <option>Western North Region- Sefwi Wiawso</option>
          <option>Western Region - Sekondi</option>
          <option>Volta Region - Ho</option>
          <option>Greater Accra Region - Accra</option>
          <option>Eastern Region - Koforidua</option>
          <option>Ashanti Region - Kumasi</option>
          <option>Central Region - Cape Coast</option>
          <option>Upper East Region - Bolgatanga</option>
          <option>Upper West Region - Wa</option>
        </select>
      </div>
      <div class="col-md-6">
        <label for="phone" class="form-label">Phone Number</label>
        <input type="number" class="form-control" name="phone" id="phone" value="" required>
      </div>
      <div class="col-md-6">
        <label for="email" class="form-label">Email</label>
        <input type="email" class="form-control" id="email" name="email">
      </div>
      <div class="col-md-3">
        <label for="emergencyName" class="form-label">Incase of Emergency (Name)</label>
        <input type="text" class="form-control" name="emergencyName" id="emergencyName" value="" required>
      </div>
      <div class="col-md-3">
        <label for="relationship" class="form-label">Relationship</label>
        <select class="form-control" name="relationship" id="relationship" aria-label="Default select example" required>
          <option value="" selected="selected" hidden="hidden">Choose relationship</option>
          <option value="mother">Mother</option>
          <option value="father">Father</option>
          <option value="sibling">Sibling</option>
          <option value="friend">Friend</option>
          <option value="other_family">Other Family</option>
          <option value="other_other">Other other</option>
        </select>
      </div>
      <div class="col-md-3">
        <label for="emergencyPhone" class="form-label">Phone</label>
        <input type="number" class="form-control" id="emergencyPhone" name="emergencyPhone" value="" required>
      </div>
      <div class="col-md-3">
        <label for="emergencyEmail" class="form-label">Emergency Email</label>
        <input type="email" class="form-control" id="emergencyEmail" name="emergencyEmail" value="">
      </div>
      <div class="col-md-3">
        <button type="submit" name="submit" value="editPatient"class="btn btn-small btn-theme">Edit Patient</button>
      </div>
    </form>
  </div>
</body>

{% endblock %}
